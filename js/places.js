function initMap(){var e={lat:plasex,lng:plasey},t=new google.maps.Map(document.getElementById("map"),{zoom:14,center:e}),o=(new google.maps.Marker({position:e,map:t,title:name}),new google.maps.DirectionsService),n=new google.maps.DirectionsRenderer;n.setMap(t);var a=function(){calculateAndDisplayRoute(o,n)};document.getElementById("go").addEventListener("click",a)}function calculateAndDisplayRoute(e,t){var o={lat:plasex,lng:plasey},n={lat:latitude,lng:longitude},a=[];e.route({origin:n,destination:o,waypoints:a,optimizeWaypoints:!0,travelMode:"DRIVING"},function(e,o){t.setDirections(e)})}var latitude=0,longitude=0;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){latitude=e.coords.latitude,longitude=e.coords.longitude});